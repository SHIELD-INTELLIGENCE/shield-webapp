import{u as s,r as e,a,q as t,w as n,c as d,b as i,j as l,d as c,e as o,f as r}from"./index-f14d47da.js";function h(){const h=s(),[m,x]=e.useState([]),[u,j]=e.useState(!0);e.useEffect(()=>{const s=a.onAuthStateChanged(s=>{if(s){const e=t(d(r,"feeds"),n("assignedTo","array-contains",s.email)),a=i(e,s=>{x(s.docs.map(s=>({id:s.id,...s.data()}))),j(!1)});return()=>a()}h("/login")});return()=>s()},[h]);return l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-2xl mb-4",children:"Your Feeds"}),u?l.jsxs("div",{className:"shield-loading-screen",children:[l.jsxs("div",{className:"shield-loading-title",children:[l.jsx("span",{className:"desktop-text",children:"Loading"}),l.jsx("span",{className:"mobile-text",children:"Loading"})]}),l.jsx("div",{className:"shield-spinner"})]}):0===m.length?l.jsx("p",{children:"No messages assigned to you."}):m.map(s=>l.jsxs("div",{className:"feed-card",children:[l.jsx("h3",{children:s.title}),l.jsx("p",{children:s.body}),l.jsxs("small",{children:["Status: ",s.status]}),"done"!==s.status&&l.jsx("button",{className:"bw-btn mt-2",onClick:()=>(async s=>{const e=c(r,"feeds",s);await o(e,{status:"done"})})(s.id),children:"Mark as Done"})]},s.id))]})}export{h as default};
