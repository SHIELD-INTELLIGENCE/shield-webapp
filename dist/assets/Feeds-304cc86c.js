import{u as s,r as a,a as e,q as t,w as n,c as d,b as i,j as c,d as o,e as r,f as l}from"./index-6246ab16.js";function u(){const u=s(),[h,m]=a.useState([]),[x,f]=a.useState(!0);a.useEffect(()=>{const s=e.onAuthStateChanged(s=>{if(s){const a=t(d(l,"feeds"),n("assignedTo","array-contains",s.email)),e=i(a,s=>{m(s.docs.map(s=>({id:s.id,...s.data()}))),f(!1)});return()=>e()}u("/login")});return()=>s()},[u]);return c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-2xl mb-4",children:"Your Feeds"}),x?c.jsx("p",{children:"Loading feeds..."}):0===h.length?c.jsx("p",{children:"No messages assigned to you."}):h.map(s=>c.jsxs("div",{className:"feed-card",children:[c.jsx("h3",{children:s.title}),c.jsx("p",{children:s.body}),c.jsxs("small",{children:["Status: ",s.status]}),"done"!==s.status&&c.jsx("button",{className:"bw-btn mt-2",onClick:()=>(async s=>{const a=o(l,"feeds",s);await r(a,{status:"done"})})(s.id),children:"Mark as Done"})]},s.id))]})}export{u as default};
